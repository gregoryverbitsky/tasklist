Started by user Jenkins Admin
Obtained Jenkinsfile from git http://gitlab-webservice-default.gitlab.svc.cluster.local:8181/demo/tasklist.git
[Pipeline] Start of Pipeline
[Pipeline] podTemplate
[Pipeline] {
[Pipeline] node
Created Pod: kubernetes build/demo-tasklist-38-mzsb5-50594-k1mbb
[PodInfo] build/demo-tasklist-38-mzsb5-50594-k1mbb
	Container [docker] waiting [ContainerCreating] No message
	Container [helm-kubectl] waiting [ContainerCreating] No message
	Container [jnlp] waiting [ContainerCreating] No message
	Container [maven] waiting [ContainerCreating] No message
	Container [trivy] waiting [ContainerCreating] No message
	Pod [Pending][ContainersNotReady] containers with unready status: [maven docker trivy helm-kubectl jnlp]
Agent demo-tasklist-38-mzsb5-50594-k1mbb is provisioned from template demo-tasklist_38-mzsb5-50594
---
apiVersion: "v1"
kind: "Pod"
metadata:
  annotations:
    kubernetes.jenkins.io/last-refresh: "1759133474896"
    buildUrl: "http://jenkins.build.svc.cluster.local:8080/job/demo-tasklist/38/"
    runUrl: "job/demo-tasklist/38/"
  labels:
    jenkins/jenkins-jenkins-agent: "true"
    jenkins/label-digest: "ef239e538d5b550f8dbcbdc5f33bd8a46b0d0bd5"
    jenkins/label: "demo-tasklist_38-mzsb5"
    kubernetes.jenkins.io/controller: "http___jenkins_build_svc_cluster_local_8080x"
  name: "demo-tasklist-38-mzsb5-50594-k1mbb"
  namespace: "build"
spec:
  containers:
  - command:
    - "cat"
    image: "docker.stx/maven:3.9.11-eclipse-temurin-21-alpine"
    imagePullPolicy: "IfNotPresent"
    name: "maven"
    tty: true
    volumeMounts:
    - mountPath: "/root/.m2/repository"
      name: "maven"
    - mountPath: "/home/jenkins/agent"
      name: "workspace-volume"
      readOnly: false
  - command:
    - "cat"
    image: "docker.stx/docker:24.0.6-git"
    imagePullPolicy: "IfNotPresent"
    name: "docker"
    tty: true
    volumeMounts:
    - mountPath: "/var/run/docker.sock"
      name: "docker"
    - mountPath: "/home/jenkins/agent"
      name: "workspace-volume"
      readOnly: false
  - command:
    - "cat"
    image: "docker.stx/aquasec/trivy:0.66.0"
    imagePullPolicy: "IfNotPresent"
    name: "trivy"
    tty: true
    volumeMounts:
    - mountPath: "/root/.trivy-cache"
      name: "trivy"
    - mountPath: "/home/jenkins/agent"
      name: "workspace-volume"
      readOnly: false
  - command:
    - "cat"
    image: "docker.stx/alpine/k8s:1.24.16"
    imagePullPolicy: "IfNotPresent"
    name: "helm-kubectl"
    tty: true
    volumeMounts:
    - mountPath: "/home/jenkins/agent"
      name: "workspace-volume"
      readOnly: false
  - env:
    - name: "JENKINS_SECRET"
      value: "********"
    - name: "JENKINS_TUNNEL"
      value: "jenkins-agent.build.svc.cluster.local:50000"
    - name: "JENKINS_AGENT_NAME"
      value: "demo-tasklist-38-mzsb5-50594-k1mbb"
    - name: "REMOTING_OPTS"
      value: "-noReconnectAfter 1d"
    - name: "JENKINS_NAME"
      value: "demo-tasklist-38-mzsb5-50594-k1mbb"
    - name: "JENKINS_AGENT_WORKDIR"
      value: "/home/jenkins/agent"
    - name: "JENKINS_URL"
      value: "http://jenkins.build.svc.cluster.local:8080/"
    image: "jenkins/inbound-agent:3327.v868139a_d00e0-6"
    name: "jnlp"
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
    volumeMounts:
    - mountPath: "/home/jenkins/agent"
      name: "workspace-volume"
      readOnly: false
  imagePullSecrets:
  - name: "docker-proxy-credentials"
  nodeSelector:
    kubernetes.io/os: "linux"
  restartPolicy: "Never"
  volumes:
  - name: "maven"
    persistentVolumeClaim:
      claimName: "maven-repo-storage"
  - name: "trivy"
    persistentVolumeClaim:
      claimName: "trivy-cache"
  - emptyDir:
      medium: ""
    name: "workspace-volume"
  - hostPath:
      path: "/var/run/docker.sock"
    name: "docker"

Running on demo-tasklist-38-mzsb5-50594-k1mbb in /home/jenkins/agent/workspace/demo-tasklist
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
The recommended git tool is: NONE
using credential developWithPassword
Cloning the remote Git repository
Cloning repository http://gitlab-webservice-default.gitlab.svc.cluster.local:8181/demo/tasklist.git
 > git init /home/jenkins/agent/workspace/demo-tasklist # timeout=10
Avoid second fetch
Checking out Revision 3c95daf23ed425e612ad9543b1debae6a9589fc0 (refs/remotes/origin/spotless-maven-plugin)
Commit message: "docker push"
Fetching upstream changes from http://gitlab-webservice-default.gitlab.svc.cluster.local:8181/demo/tasklist.git
 > git --version # timeout=10
 > git --version # 'git version 2.39.5'
using GIT_ASKPASS to set credentials developWithPassword
 > git fetch --tags --force --progress -- http://gitlab-webservice-default.gitlab.svc.cluster.local:8181/demo/tasklist.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url http://gitlab-webservice-default.gitlab.svc.cluster.local:8181/demo/tasklist.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/spotless-maven-plugin^{commit} # timeout=10
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 3c95daf23ed425e612ad9543b1debae6a9589fc0 # timeout=10
 > git rev-list --no-walk 70c60086d92b771935f198df50adb5d32064af72 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Init)
[Pipeline] script
[Pipeline] {
[Pipeline] configFileProvider
provisioning config files...
copy managed file [MVN-SETTINGS-XML] to file:/home/jenkins/agent/workspace/demo-tasklist/maven-settings.xml
[Pipeline] {
[Pipeline] }
[Pipeline] // configFileProvider
[Pipeline] sh
+ pwd
/home/jenkins/agent/workspace/demo-tasklist
[Pipeline] sh
+ ls -a
.
..
.env.example
.git
.gitignore
Dockerfile
Jenkinsfile
Makefile
README.md
docker-compose.yaml
docs
maven-settings.xml
pom.xml
src
style.xml
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (maven)
[Pipeline] container
[Pipeline] {
[Pipeline] sh
+ pwd
/home/jenkins/agent/workspace/demo-tasklist
[Pipeline] sh
+ ls -a
.
..
.env.example
.git
.gitignore
Dockerfile
Jenkinsfile
Makefile
README.md
docker-compose.yaml
docs
maven-settings.xml
pom.xml
src
style.xml
[Pipeline] sh
+ java -version
openjdk version "21.0.8" 2025-07-15 LTS
OpenJDK Runtime Environment Temurin-21.0.8+9 (build 21.0.8+9-LTS)
OpenJDK 64-Bit Server VM Temurin-21.0.8+9 (build 21.0.8+9-LTS, mixed mode, sharing)
[Pipeline] sh
+ mvn -v
Apache Maven 3.9.11 (3e54c93a704957b63ee3494413a2b544fd3d825b)
Maven home: /usr/share/maven
Java version: 21.0.8, vendor: Eclipse Adoptium, runtime: /opt/java/openjdk
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "6.16.8-200.fc42.x86_64", arch: "amd64", family: "unix"
[Pipeline] sh
+ mvn clean package -s maven-settings.xml -f pom.xml
[INFO] Scanning for projects...
[INFO] 
[INFO] --------------------------< de.demo:tasklist >--------------------------
[INFO] Building tasklist 0.0.1
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- clean:3.4.1:clean (default-clean) @ tasklist ---
[INFO] 
[INFO] --- jacoco:0.8.13:prepare-agent (default-prepare-agent) @ tasklist ---
[INFO] argLine set to -javaagent:/root/.m2/repository/org/jacoco/org.jacoco.agent/0.8.13/org.jacoco.agent-0.8.13-runtime.jar=destfile=/home/jenkins/agent/workspace/demo-tasklist/target/jacoco.exec
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ tasklist ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 6 resources from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.14.0:compile (default-compile) @ tasklist ---
[INFO] Recompiling the module because of changed source code.
[INFO] Compiling 51 source files with javac [debug parameters release 21] to target/classes
[INFO] Annotation processing is enabled because one or more processors were found
  on the class path. A future release of javac may disable annotation processing
  unless at least one processor is specified by name (-processor), or a search
  path is specified (--processor-path, --processor-module-path), or annotation
  processing is enabled explicitly (-proc:only, -proc:full).
  Use -Xlint:-options to suppress this message.
  Use -proc:none to disable annotation processing.
[INFO] 
[INFO] --- spotless:2.46.1:check (default) @ tasklist ---
[INFO] Index file does not exist. Fallback to an empty index
[INFO] Spotless.Java is keeping 56 files clean - 0 needs changes to be clean, 56 were already clean, 0 were skipped because caching determined they were already clean
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ tasklist ---
[INFO] skip non existing resourceDirectory /home/jenkins/agent/workspace/demo-tasklist/src/test/resources
[INFO] 
[INFO] --- compiler:3.14.0:testCompile (default-testCompile) @ tasklist ---
[INFO] Recompiling the module because of changed dependency.
[INFO] Compiling 5 source files with javac [debug parameters release 21] to target/test-classes
[INFO] Annotation processing is enabled because one or more processors were found
  on the class path. A future release of javac may disable annotation processing
  unless at least one processor is specified by name (-processor), or a search
  path is specified (--processor-path, --processor-module-path), or annotation
  processing is enabled explicitly (-proc:only, -proc:full).
  Use -Xlint:-options to suppress this message.
  Use -proc:none to disable annotation processing.
[INFO] 
[INFO] --- surefire:3.5.3:test (default-test) @ tasklist ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running de.demo.tasklist.service.impl.AuthServiceImplTest
08:11:34.260 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [de.demo.tasklist.service.impl.AuthServiceImplTest]: AuthServiceImplTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
Mockito is currently self-attaching to enable the inline-mock-maker. This will no longer work in future releases of the JDK. Please add Mockito as an agent to your build as described in Mockito's documentation: https://javadoc.io/doc/org.mockito/mockito-core/latest/org.mockito/org/mockito/Mockito.html#0.3
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
WARNING: A Java agent has been loaded dynamically (/root/.m2/repository/net/bytebuddy/byte-buddy-agent/1.17.7/byte-buddy-agent-1.17.7.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.499 s -- in de.demo.tasklist.service.impl.AuthServiceImplTest
[INFO] Running de.demo.tasklist.service.impl.UserServiceImplTest
08:11:37.561 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [de.demo.tasklist.service.impl.UserServiceImplTest]: UserServiceImplTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO] Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.200 s -- in de.demo.tasklist.service.impl.UserServiceImplTest
[INFO] Running de.demo.tasklist.service.impl.MailServiceImplTest
08:11:37.761 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [de.demo.tasklist.service.impl.MailServiceImplTest]: MailServiceImplTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.343 s -- in de.demo.tasklist.service.impl.MailServiceImplTest
[INFO] Running de.demo.tasklist.service.impl.TaskServiceImplTest
08:11:38.109 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [de.demo.tasklist.service.impl.TaskServiceImplTest]: TaskServiceImplTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.116 s -- in de.demo.tasklist.service.impl.TaskServiceImplTest
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 27, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] 
[INFO] --- xml-format:4.1.0:xml-format (xml-format) @ tasklist ---
[INFO] 
[INFO] --- jacoco:0.8.13:report (report) @ tasklist ---
[INFO] Loading execution data file /home/jenkins/agent/workspace/demo-tasklist/target/jacoco.exec
[INFO] Analyzed bundle 'tasklist' with 40 classes
[INFO] 
[INFO] --- jar:3.4.2:jar (default-jar) @ tasklist ---
[INFO] Building jar: /home/jenkins/agent/workspace/demo-tasklist/target/tasklist-0.0.1.jar
[INFO] 
[INFO] --- spring-boot:3.5.5:repackage (repackage) @ tasklist ---
[INFO] Replacing main artifact /home/jenkins/agent/workspace/demo-tasklist/target/tasklist-0.0.1.jar with repackaged archive, adding nested dependencies in BOOT-INF/.
[INFO] The original artifact has been renamed to /home/jenkins/agent/workspace/demo-tasklist/target/tasklist-0.0.1.jar.original
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  12.157 s
[INFO] Finished at: 2025-09-29T08:11:39Z
[INFO] ------------------------------------------------------------------------
[Pipeline] }
[Pipeline] // container
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (sonar)
[Pipeline] container
[Pipeline] {
[Pipeline] withCredentials
Masking supported pattern matches of $SONAR_TOKEN
[Pipeline] {
[Pipeline] sh
+ pwd
/home/jenkins/agent/workspace/demo-tasklist
[Pipeline] sh
+ ls -a
.
..
.env.example
.git
.gitignore
Dockerfile
Jenkinsfile
Makefile
README.md
docker-compose.yaml
docs
maven-settings.xml
pom.xml
src
style.xml
target
[Pipeline] sh
+ java -version
openjdk version "21.0.8" 2025-07-15 LTS
OpenJDK Runtime Environment Temurin-21.0.8+9 (build 21.0.8+9-LTS)
OpenJDK 64-Bit Server VM Temurin-21.0.8+9 (build 21.0.8+9-LTS, mixed mode, sharing)
[Pipeline] sh
+ mvn -v
Apache Maven 3.9.11 (3e54c93a704957b63ee3494413a2b544fd3d825b)
Maven home: /usr/share/maven
Java version: 21.0.8, vendor: Eclipse Adoptium, runtime: /opt/java/openjdk
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "6.16.8-200.fc42.x86_64", arch: "amd64", family: "unix"
[Pipeline] sh
+ mvn sonar:sonar -s maven-settings.xml -f pom.xml '-Dsonar.projectKey=tasklist' '-Dsonar.projectName=tasklist' '-Dsonar.token=****'
[INFO] Scanning for projects...
[WARNING] The artifact org.codehaus.mojo:sonar-maven-plugin:jar:4.0.0.4121 has been relocated to org.sonarsource.scanner.maven:sonar-maven-plugin:jar:4.0.0.4121: SonarQube plugin was moved to SonarSource organisation
[INFO] 
[INFO] --------------------------< de.demo:tasklist >--------------------------
[INFO] Building tasklist 0.0.1
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- sonar:4.0.0.4121:sonar (default-cli) @ tasklist ---
[WARNING] 08:11:45.650 Using an unspecified version instead of an explicit plugin version may introduce breaking analysis changes at an unwanted time. It is highly recommended to use an explicit version, e.g. 'org.sonarsource.scanner.maven:sonar-maven-plugin:4.0.0.4121'.
[INFO] 08:11:45.657 Java 21.0.8 Eclipse Adoptium (64-bit)
[INFO] 08:11:45.657 Linux 6.16.8-200.fc42.x86_64 (amd64)
[INFO] 08:11:45.795 User cache: /root/.sonar/cache
[INFO] 08:11:46.095 Communicating with SonarQube Server 25.8.0.112029
[INFO] 08:11:46.109 Default locale: "en_US", source code encoding: "UTF-8"
[INFO] 08:11:46.709 Load global settings
[INFO] 08:11:46.791 Load global settings (done) | time=83ms
[INFO] 08:11:46.809 Server id: A705BF94-AZk9AkQp47l5vLj4kDGE
[INFO] 08:11:46.821 Loading required plugins
[INFO] 08:11:46.822 Load plugins index
[INFO] 08:11:46.872 Load plugins index (done) | time=49ms
[INFO] 08:11:46.872 Load/download plugins
[INFO] 08:11:47.076 Load/download plugins (done) | time=204ms
[INFO] 08:11:47.317 Process project properties
[INFO] 08:11:47.329 Process project properties (done) | time=12ms
[INFO] 08:11:47.338 Project key: tasklist
[INFO] 08:11:47.338 Base dir: /home/jenkins/agent/workspace/demo-tasklist
[INFO] 08:11:47.338 Working dir: /home/jenkins/agent/workspace/demo-tasklist/target/sonar
[INFO] 08:11:47.344 Load project settings for component key: 'tasklist'
[INFO] 08:11:47.362 Load project settings for component key: 'tasklist' (done) | time=18ms
[INFO] 08:11:47.388 Load quality profiles
[INFO] 08:11:47.437 Load quality profiles (done) | time=49ms
[INFO] 08:11:47.448 Auto-configuring with CI 'Jenkins'
[INFO] 08:11:47.478 Load active rules
[INFO] 08:11:47.804 Load active rules (done) | time=326ms
[INFO] 08:11:47.809 Load analysis cache
[INFO] 08:11:47.854 Load analysis cache (2.8 kB) | time=44ms
[INFO] 08:11:47.914 Preprocessing files...
[INFO] 08:11:48.014 2 languages detected in 57 preprocessed files (done) | time=100ms
[INFO] 08:11:48.015 0 files ignored because of scm ignore settings
[INFO] 08:11:48.016 Loading plugins for detected languages
[INFO] 08:11:48.017 Load/download plugins
[INFO] 08:11:48.126 Load/download plugins (done) | time=109ms
[INFO] 08:11:48.207 Load project repositories
[INFO] 08:11:48.330 Load project repositories (done) | time=123ms
[INFO] 08:11:48.343 Indexing files...
[INFO] 08:11:48.344 Project configuration:
[INFO] 08:11:48.352 57 files indexed (done) | time=8ms
[INFO] 08:11:48.353 Quality profile for java: Sonar way
[INFO] 08:11:48.353 Quality profile for xml: Sonar way
[INFO] 08:11:48.353 ------------- Run sensors on module tasklist
[INFO] 08:11:48.390 Load metrics repository
[INFO] 08:11:48.410 Load metrics repository (done) | time=20ms
[INFO] 08:11:48.946 Sensor JavaSensor [java]
[INFO] 08:11:48.949 Configured Java source version (sonar.java.source): 21, preview features enabled (sonar.java.enablePreview): false
[INFO] 08:11:48.975 Server-side caching is enabled. The Java analyzer will not try to leverage data from a previous analysis.
[INFO] 08:11:48.976 Using ECJ batch to parse 51 Main java source files with batch size 500 KB.
[INFO] 08:11:49.233 Starting batch processing.
[INFO] 08:11:49.689 The Java analyzer cannot skip unchanged files in this context. A full analysis is performed for all files.
[INFO] 08:11:50.917 100% analyzed
[INFO] 08:11:50.917 Batch processing: Done.
[INFO] 08:11:50.923 Did not optimize analysis for any files, performed a full analysis for all 51 files.
[WARNING] 08:11:50.925 Unresolved imports/types have been detected during analysis. Enable DEBUG mode to see them.
[WARNING] 08:11:50.925 Use of preview features have been detected during analysis. Enable DEBUG mode to see them.
[INFO] 08:11:50.925 Using ECJ batch to parse 5 Test java source files with batch size 500 KB.
[INFO] 08:11:50.930 Starting batch processing.
[INFO] 08:11:51.154 100% analyzed
[INFO] 08:11:51.154 Batch processing: Done.
[INFO] 08:11:51.162 Did not optimize analysis for any files, performed a full analysis for all 5 files.
[INFO] 08:11:51.162 No "Generated" source files to scan.
[INFO] 08:11:51.164 Sensor JavaSensor [java] (done) | time=2218ms
[INFO] 08:11:51.164 Sensor SurefireSensor [java]
[INFO] 08:11:51.165 parsing [/home/jenkins/agent/workspace/demo-tasklist/target/surefire-reports]
[INFO] 08:11:51.216 Sensor SurefireSensor [java] (done) | time=52ms
[INFO] 08:11:51.216 Sensor XML Sensor [xml]
[INFO] 08:11:51.221 1 source file to be analyzed
[INFO] 08:11:51.350 1/1 source file has been analyzed
[INFO] 08:11:51.350 Sensor XML Sensor [xml] (done) | time=134ms
[INFO] 08:11:51.350 Sensor JaCoCo XML Report Importer [jacoco]
[INFO] 08:11:51.351 'sonar.coverage.jacoco.xmlReportPaths' is not defined. Using default locations: target/site/jacoco/jacoco.xml,target/site/jacoco-it/jacoco.xml,build/reports/jacoco/test/jacocoTestReport.xml
[INFO] 08:11:51.353 Importing 1 report(s). Turn your logs in debug mode in order to see the exhaustive list.
[INFO] 08:11:51.378 Sensor JaCoCo XML Report Importer [jacoco] (done) | time=27ms
[INFO] 08:11:51.378 Sensor IaC Docker Sensor [iac]
[INFO] 08:11:51.437 0 source files to be analyzed
[INFO] 08:11:51.438 0/0 source files have been analyzed
[INFO] 08:11:51.438 Sensor IaC Docker Sensor [iac] (done) | time=60ms
[INFO] 08:11:51.438 Sensor Java Config Sensor [iac]
[INFO] 08:11:51.451 0 source files to be analyzed
[INFO] 08:11:51.451 0/0 source files have been analyzed
[INFO] 08:11:51.451 Sensor Java Config Sensor [iac] (done) | time=13ms
[INFO] 08:11:51.451 Sensor TextAndSecretsSensor [text]
[INFO] 08:11:51.458 Available processors: 32
[INFO] 08:11:51.459 Using 32 threads for analysis.
[INFO] 08:11:51.753 Start fetching files for the text and secrets analysis
[INFO] 08:11:51.757 Using JGit to retrieve untracked files
[INFO] 08:11:54.893 Retrieving language associated files and files included via "sonar.text.inclusions" that are tracked by git
[INFO] 08:11:54.894 Starting the text and secrets analysis
[INFO] 08:11:54.896 57 source files to be analyzed for the text and secrets analysis
[INFO] 08:11:55.003 57/57 source files have been analyzed for the text and secrets analysis
[INFO] 08:11:55.006 Sensor TextAndSecretsSensor [text] (done) | time=3555ms
[INFO] 08:11:55.008 ------------- Run sensors on project
[INFO] 08:11:55.111 Sensor JavaProjectSensor [java]
[INFO] 08:11:55.112 Sensor JavaProjectSensor [java] (done) | time=1ms
[INFO] 08:11:55.112 Sensor Zero Coverage Sensor
[INFO] 08:11:55.113 Sensor Zero Coverage Sensor (done) | time=1ms
[INFO] 08:11:55.113 Sensor Java CPD Block Indexer
[INFO] 08:11:55.144 Sensor Java CPD Block Indexer (done) | time=31ms
[INFO] 08:11:55.144 ------------- Gather SCA dependencies on project
[INFO] 08:11:55.148 Dependency analysis skipped
[INFO] 08:11:55.159 CPD Executor 28 files had no CPD blocks
[INFO] 08:11:55.159 CPD Executor Calculating CPD for 23 files
[INFO] 08:11:55.164 CPD Executor CPD calculation finished (done) | time=5ms
[INFO] 08:11:55.168 SCM revision ID '3c95daf23ed425e612ad9543b1debae6a9589fc0'
[INFO] 08:11:55.236 Analysis report generated in 65ms, dir size=441.3 kB
[INFO] 08:11:55.282 Analysis report compressed in 46ms, zip size=154.3 kB
[INFO] 08:11:55.363 Analysis report uploaded in 81ms
[INFO] 08:11:55.364 ANALYSIS SUCCESSFUL, you can find the results at: http://sonar-sonarqube.sonarqube.svc.cluster.local:9000/dashboard?id=tasklist
[INFO] 08:11:55.364 Note that you will be able to access the updated dashboard once the server has processed the submitted analysis report
[INFO] 08:11:55.364 More about the report processing at http://sonar-sonarqube.sonarqube.svc.cluster.local:9000/api/ce/task?id=bda28577-dd97-474e-b9a5-3e7a2b110042
[INFO] 08:11:55.374 Analysis total time: 8.265 s
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  10.972 s
[INFO] Finished at: 2025-09-29T08:11:55Z
[INFO] ------------------------------------------------------------------------
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // container
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (docker build)
[Pipeline] container
[Pipeline] {
[Pipeline] withCredentials
Masking supported pattern matches of $REGISTRY_PASS
[Pipeline] {
[Pipeline] sh
+ pwd
/home/jenkins/agent/workspace/demo-tasklist
[Pipeline] sh
+ ls -a
.
..
.env.example
.git
.gitignore
Dockerfile
Jenkinsfile
Makefile
README.md
docker-compose.yaml
docs
maven-settings.xml
pom.xml
src
style.xml
target
[Pipeline] sh
+ docker info
Client:
 Version:    24.0.6
 Context:    default
 Debug Mode: false
 Plugins:
  buildx: Docker Buildx (Docker Inc.)
    Version:  v0.11.2
    Path:     /usr/local/libexec/docker/cli-plugins/docker-buildx
  compose: Docker Compose (Docker Inc.)
    Version:  v2.23.0
    Path:     /usr/local/libexec/docker/cli-plugins/docker-compose

Server:
 Containers: 22
  Running: 1
  Paused: 0
  Stopped: 21
 Images: 223
 Server Version: 28.4.0
 Storage Driver: overlay2
  Backing Filesystem: extfs
  Supports d_type: true
  Using metacopy: false
  Native Overlay Diff: true
  userxattr: false
 Logging Driver: json-file
 Cgroup Driver: systemd
 Cgroup Version: 2
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local splunk syslog
 Swarm: inactive
 Runtimes: io.containerd.runc.v2 runc
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: b98a3aace656320842a23f4a392a33f46af97866
 runc version: v1.3.0-0-g4ca628d1
 init version: de40ad0
 Security Options:
  seccomp
   Profile: builtin
  cgroupns
 Kernel Version: 6.16.8-200.fc42.x86_64
 Operating System: Fedora Linux 42 (Workstation Edition)
 OSType: linux
 Architecture: x86_64
 CPUs: 32
 Total Memory: 62.55GiB
 Name: stx
 ID: 449a2904-7e6c-409d-ab57-85352ea34f15
 Docker Root Dir: /home/dockerData
 Debug Mode: false
 Experimental: false
 Insecure Registries:
  registry.stx
  docker.stx
  registry.gitlab.stx
  ::1/128
  127.0.0.0/8
 Live Restore Enabled: false

WARNING: bridge-nf-call-iptables is disabled
WARNING: bridge-nf-call-ip6tables is disabled
[Pipeline] sh
+ echo ****
+ docker login registry.stx -u admin --password-stdin
WARNING! Your password will be stored unencrypted in /root/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store

Login Succeeded
[Pipeline] sh
+ docker build -t registry.stx/tasklist:0.0.1 .
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 162B done
#1 DONE 0.1s

#2 [internal] load metadata for docker.stx/eclipse-temurin:21.0.7_6-jre-ubi9-minimal
#2 DONE 0.1s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.1s

#4 [1/2] FROM docker.stx/eclipse-temurin:21.0.7_6-jre-ubi9-minimal@sha256:be37f4233c179ca1f40e9c8d7974df1b6676b9599b375389b8e15e0218e34083
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 101.50MB 0.3s done
#5 DONE 0.4s

#4 [1/2] FROM docker.stx/eclipse-temurin:21.0.7_6-jre-ubi9-minimal@sha256:be37f4233c179ca1f40e9c8d7974df1b6676b9599b375389b8e15e0218e34083
#4 CACHED

#6 [2/2] COPY target/tasklist*.jar /app.jar
#6 DONE 0.2s

#7 exporting to image
#7 exporting layers
#7 exporting layers 0.3s done
#7 writing image sha256:bc1aec7a7dd4b0153dda0e368e2bb535feaa84b986b968c4547ac5a4217860ef 0.1s done
#7 naming to registry.stx/tasklist:0.0.1 0.0s done
#7 DONE 0.5s
WARNING: buildx: failed to read current commit information with git rev-parse --is-inside-work-tree
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // container
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (trivy security scanning)
[Pipeline] container
[Pipeline] {
[Pipeline] sh
+ pwd
/home/jenkins/agent/workspace/demo-tasklist
[Pipeline] sh
+ ls -a
.
..
.env.example
.git
.gitignore
Dockerfile
Jenkinsfile
Makefile
README.md
docker-compose.yaml
docs
maven-settings.xml
pom.xml
src
style.xml
target
[Pipeline] sh
+ docker run --rm -v /var/run/docker.sock:/var/run/docker.sock -v /root/.trivy-cache:/root/.cache/ docker.stx/aquasec/trivy:0.66.0 image --scanners vuln --severity HIGH,CRITICAL --exit-code 0 --format table registry.stx/tasklist:0.0.1
2025-09-29T08:12:05Z	INFO	[vuln] Vulnerability scanning is enabled
2025-09-29T08:12:08Z	INFO	Detected OS	family="redhat" version="9.6"
2025-09-29T08:12:08Z	INFO	[redhat] Detecting RHEL/CentOS vulnerabilities...	os_version="9" pkg_num=146
2025-09-29T08:12:08Z	INFO	Number of language-specific files	num=1
2025-09-29T08:12:08Z	INFO	[jar] Detecting vulnerabilities...
2025-09-29T08:12:08Z	WARN	Using severities from other vendors for some vulnerabilities. Read https://trivy.dev/v0.66/docs/scanner/vulnerability#severity-selection for details.
2025-09-29T08:12:08Z	INFO	Table result includes only package filenames. Use '--format json' option to get the full path to the package file.
[Pipeline] sh
+ cat trivy-output.txt

Report Summary

┌──────────────────────────────────────────┬────────┬─────────────────┐
│                  Target                  │  Type  │ Vulnerabilities │
├──────────────────────────────────────────┼────────┼─────────────────┤
│ registry.stx/tasklist:0.0.1 (redhat 9.6) │ redhat │        5        │
├──────────────────────────────────────────┼────────┼─────────────────┤
│ app.jar                                  │  jar   │        2        │
└──────────────────────────────────────────┴────────┴─────────────────┘
Legend:
- '-': Not scanned
- '0': Clean (no security findings detected)


registry.stx/tasklist:0.0.1 (redhat 9.6)
========================================
Total: 5 (HIGH: 5, CRITICAL: 0)

┌────────────┬────────────────┬──────────┬──────────┬───────────────────┬─────────────────┬────────────────────────────────────────────────────────────┐
│  Library   │ Vulnerability  │ Severity │  Status  │ Installed Version │  Fixed Version  │                           Title                            │
├────────────┼────────────────┼──────────┼──────────┼───────────────────┼─────────────────┼────────────────────────────────────────────────────────────┤
│ expat      │ CVE-2025-59375 │ HIGH     │ affected │ 2.5.0-5.el9_6     │                 │ expat: libexpat in Expat allows attackers to trigger large │
│            │                │          │          │                   │                 │ dynamic memory allocations...                              │
│            │                │          │          │                   │                 │ https://avd.aquasec.com/nvd/cve-2025-59375                 │
├────────────┼────────────────┤          ├──────────┼───────────────────┼─────────────────┼────────────────────────────────────────────────────────────┤
│ libarchive │ CVE-2025-5914  │          │ fixed    │ 3.5.3-5.el9_6     │ 3.5.3-6.el9_6   │ libarchive: Double free at                                 │
│            │                │          │          │                   │                 │ archive_read_format_rar_seek_data() in                     │
│            │                │          │          │                   │                 │ archive_read_support_format_rar.c                          │
│            │                │          │          │                   │                 │ https://avd.aquasec.com/nvd/cve-2025-5914                  │
├────────────┼────────────────┤          │          ├───────────────────┼─────────────────┼────────────────────────────────────────────────────────────┤
│ libxml2    │ CVE-2025-7425  │          │          │ 2.9.13-10.el9_6   │ 2.9.13-11.el9_6 │ libxslt: Heap Use-After-Free in libxslt caused by atype    │
│            │                │          │          │                   │                 │ corruption in xmlAttrPtr                                   │
│            │                │          │          │                   │                 │ https://avd.aquasec.com/nvd/cve-2025-7425                  │
├────────────┼────────────────┤          │          ├───────────────────┼─────────────────┼────────────────────────────────────────────────────────────┤
│ pam        │ CVE-2025-6020  │          │          │ 1.5.1-25.el9_6    │ 1.5.1-26.el9_6  │ linux-pam: Linux-pam directory Traversal                   │
│            │                │          │          │                   │                 │ https://avd.aquasec.com/nvd/cve-2025-6020                  │
│            ├────────────────┤          │          │                   │                 ├────────────────────────────────────────────────────────────┤
│            │ CVE-2025-8941  │          │          │                   │                 │ linux-pam: Incomplete fix for CVE-2025-6020                │
│            │                │          │          │                   │                 │ https://avd.aquasec.com/nvd/cve-2025-8941                  │
└────────────┴────────────────┴──────────┴──────────┴───────────────────┴─────────────────┴────────────────────────────────────────────────────────────┘

Java (jar)
==========
Total: 2 (HIGH: 2, CRITICAL: 0)

┌─────────────────────────────────────────────────────────────┬────────────────┬──────────┬────────┬───────────────────┬───────────────┬──────────────────────────────────────────────────────────────┐
│                           Library                           │ Vulnerability  │ Severity │ Status │ Installed Version │ Fixed Version │                            Title                             │
├─────────────────────────────────────────────────────────────┼────────────────┼──────────┼────────┼───────────────────┼───────────────┼──────────────────────────────────────────────────────────────┤
│ org.springframework.security:spring-security-core (app.jar) │ CVE-2025-41248 │ HIGH     │ fixed  │ 6.5.3             │ 6.4.10, 6.5.4 │ org.springframework.security/spring-security-core: Spring    │
│                                                             │                │          │        │                   │               │ Security authorization bypass                                │
│                                                             │                │          │        │                   │               │ https://avd.aquasec.com/nvd/cve-2025-41248                   │
├─────────────────────────────────────────────────────────────┼────────────────┤          │        ├───────────────────┼───────────────┼──────────────────────────────────────────────────────────────┤
│ org.springframework:spring-core (app.jar)                   │ CVE-2025-41249 │          │        │ 6.2.10            │ 6.2.11        │ org.springframework/spring-core: Spring Framework Annotation │
│                                                             │                │          │        │                   │               │ Detection Vulnerability                                      │
│                                                             │                │          │        │                   │               │ https://avd.aquasec.com/nvd/cve-2025-41249                   │
└─────────────────────────────────────────────────────────────┴────────────────┴──────────┴────────┴───────────────────┴───────────────┴──────────────────────────────────────────────────────────────┘
[Pipeline] }
[Pipeline] // container
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (docker push)
[Pipeline] container
[Pipeline] {
[Pipeline] sh
+ docker push registry.stx/tasklist:0.0.1
The push refers to repository [registry.stx/tasklist]
1a8d871952c2: Preparing
38bbe8e2760b: Preparing
0690ec1ca6c3: Preparing
30a08a01fd9c: Preparing
7c318dac0e31: Preparing
9d26cc12af44: Preparing
9d26cc12af44: Waiting
38bbe8e2760b: Layer already exists
0690ec1ca6c3: Layer already exists
30a08a01fd9c: Layer already exists
7c318dac0e31: Layer already exists
9d26cc12af44: Layer already exists
1a8d871952c2: Pushed
0.0.1: digest: sha256:711cef13d05e7c82798421c6f69b38059b9fe09c6d581e4a55b5f21e7d074ad8 size: 1580
[Pipeline] }
[Pipeline] // container
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (helm & kubectl)
[Pipeline] container
[Pipeline] {
[Pipeline] withCredentials
Masking supported pattern matches of $KUBECONFIG
[Pipeline] {
[Pipeline] sh
+ pwd
/home/jenkins/agent/workspace/demo-tasklist
[Pipeline] sh
+ ls -a
.
..
.env.example
.git
.gitignore
Dockerfile
Jenkinsfile
Makefile
README.md
docker-compose.yaml
docs
maven-settings.xml
pom.xml
src
style.xml
target
trivy-output.txt
[Pipeline] sh
+ helm version
version.BuildInfo{Version:"v3.12.2", GitCommit:"1e210a2c8cc5117d1055bfaa5d40f51bbc2e345e", GitTreeState:"clean", GoVersion:"go1.20.5"}
[Pipeline] sh
+ kubectl version
WARNING: This version information is deprecated and will be replaced with the output from kubectl version --short.  Use --output=yaml|json to get the full version.
Client Version: version.Info{Major:"1", Minor:"24", GitVersion:"v1.24.16", GitCommit:"51e33fadff13065ae5518db94e84598293965939", GitTreeState:"clean", BuildDate:"2023-07-19T12:26:21Z", GoVersion:"go1.20.6", Compiler:"gc", Platform:"linux/amd64"}
Kustomize Version: v4.5.4
Server Version: version.Info{Major:"1", Minor:"24", GitVersion:"v1.24.17", GitCommit:"22a9682c8fe855c321be75c5faacde343f909b04", GitTreeState:"clean", BuildDate:"2023-08-23T23:37:25Z", GoVersion:"go1.20.7", Compiler:"gc", Platform:"linux/amd64"}
[Pipeline] }
[Pipeline] // withCredentials
[Pipeline] }
[Pipeline] // container
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] }
[Pipeline] // podTemplate
[Pipeline] End of Pipeline
Finished: SUCCESS
